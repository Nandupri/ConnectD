
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Job Listings | ConnectD</title>
    <link rel="icon" type="image/x-icon" href="/static/jobs/favicon.ico" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/jobs/home.css">
</head>
<body>


<div class="topbar">
  {% if user.is_authenticated %}
    <div class="welcome-user">
      <span class="welcome-badge">👋 Welcome, <b>{{ user.username }}</b></span>
      <a href="{% url 'profile' %}" class="btn btn-info btn-sm ms-2">Profile</a>
      <a href="{% url 'logout' %}" class="logout-btn" title="Logout">Logout</a>
      <a href="{% url 'post_job' %}" class="btn btn-success btn-sm ms-2">Post a Job</a>
    </div>
  {% else %}
    <div class="welcome-user">
      <a href="{% url 'register' %}" class="login-btn">Register</a>
      <span class="divider">|</span>
      <a href="{% url 'login' %}" class="login-btn">Login</a>
    </div>
  {% endif %}
  {# Remove the global Apply Now button, or make it job-specific below #}
</div>



<body>
    <form method="GET" class="mb-4">
        <div class="domain-btn-group mb-2">
            <button type="submit" name="domain" value="" class="domain-btn{% if not request.GET.domain %} active{% endif %}">🌐 All</button>
            <button type="submit" name="domain" value="IT" class="domain-btn{% if request.GET.domain == 'IT' %} active{% endif %}">💻 IT</button>
            <button type="submit" name="domain" value="Non-IT" class="domain-btn{% if request.GET.domain == 'Non-IT' %} active{% endif %}">🏢 Non-IT</button>
            <button type="submit" name="domain" value="Internship" class="domain-btn{% if request.GET.domain == 'Internship' %} active{% endif %}">🧑‍💼 Internship</button>
            <button type="submit" name="domain" value="Government" class="domain-btn{% if request.GET.domain == 'Government' %} active{% endif %}">🏛️ Government</button>
        </div>
        <div class="location-unique-group mb-2">
            <div class="location-unique-wrapper">
                <input type="text" name="location" placeholder="🔍 Enter Location..." class="location-unique-input" value="{{ request.GET.location|default:'' }}">
                <button type="submit" class="location-unique-btn" title="Search">
                    <span class="location-unique-icon">&#128269;</span>
                </button>
            </div>
        </div>
    </form>
    
    <div class="container mt-5">
        {# Removed animated counters row #}
        <h1 class="mb-4">Off-Campus Job Listings</h1>
        {% for job in jobs %}
            <div class="card mb-3 job-card-hover" onclick="window.location.href='{% url 'job_detail' job.id %}'" style="cursor:pointer;">
                <div class="card-body">
                    <h5 class="card-title">{{ job.title }}</h5>
                    <h6 class="card-subtitle mb-2 text-muted">{{ job.company }} - {{ job.location }}</h6>
                    <a href="{% url 'job_detail' job.id %}" class="btn btn-primary">Details</a>
                    <a href="{% url 'apply' job.id %}" class="btn btn-warning ms-2">Apply Now</a>
                    <p class="mt-2"><small>Posted on: {{ job.posted_on }}</small></p>
                </div>
            </div>
        {% empty %}
            <p>No jobs available.</p>
        {% endfor %}
    </div>
<script src="/static/jobs/darkmode.js"></script>
<script src="/static/jobs/counters.js"></script>
</body>
</html>
